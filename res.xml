<?xml version="1.0"?>
<project name="TrekBuddy - resources" default="unknown" basedir=".">

<!--
  public targets
-->

    <target name="unknown">
        <fail message="Invalid vendor specified" status="-1"/>
    </target>

    <target name="public" depends="rescompile"/>

    <target name="interpuls">
        <copy overwrite="true" verbose="true"
            file="res-pl_PL\resources\language.res" 
            tofile="res\resources\language.res"/>
    </target>

    <target name="jurek-testing" depends="interpuls"/>

<!--
  private targets
-->

    <target name="rescompile">
        <exec dir="${basedir}" executable="${java.home}/../bin/native2ascii.exe">
            <arg line="res/resources/language.en_US.txt res/resources/language.txt"/>
        </exec>
        <javac 
            destdir="tools/classes" 
            srcdir="tools/src" 
            includes="ResourceCompilerNG.java"/>
        <jar 
            destfile="tools/dist/rc-ng.jar"
            basedir="tools/classes"
            includes="ResourceCompilerNG.class">
          <manifest>
            <attribute name="Main-Class" value="ResourceCompilerNG"/>
          </manifest>
        </jar> 
        <java fork="true" jar="tools/dist/rc-ng.jar">
            <arg line="en_US res/resources/language.txt res/resources/language.res"/>
        </java>
    </target>

</project>
